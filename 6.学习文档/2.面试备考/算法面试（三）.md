# 算法面试（三）

## 1.假设有一个不知道多长的数字序列，如何等概率的从里卖弄抽取100个值

我们要从数据流中抽取k个数据点，那对于第n个样本Xn，(n≥k)，它有k/n的概率被选进池子中；如果被选中了，我们随机从池子中的k个样本中挑选一个Xi被Xn取代。这个就是蓄水池算法的基本思想。



\---------------------------

下面开始证明

\---------------------------



用数学归纳法证明，每个样本被选中的概率的都是相等的。

初始情况是，当前只有k个样本，此时每个样本都被选中进入池子，也就是k/k=1的概率。

如果我们一共有n个数据点，假设每个数据点被选进入池子的概率相等，都是k/n。

根据数学归纳法的思想，下面我们只要证明如果一共有n+1个数据点，每个数据进入池子中的概率都是$\frac{k}{(n+1)}$。

对于第n+1个样本$Xn+1$，它进入池子的概率显然是$\frac{k}{(n+1)}$。

对于第j个样本$Xj$，j≤n，它在前一轮中已经在池子里的概率为$\frac{k}{n}$。

下面我们分两种情况讨论：第一种情况，$Xn+1$没被选中，所以$Xj$依然留在池子中。这种情况的概率为

​			$P1=1−\frac{k}{n+1}=\frac{n+1−k}{n+1}$

第二种情况，$Xn+1$被选中但是$Xj$没有被替换。这种情况发生的概率为

​			$P2=\frac{k}{n+1}\frac{k−1}{k}=\frac{k−1}{n+1}$

两者相加

​			$P1+P2=\frac{n}{n+1}$

所以Xj此时在池子中的概率为

​			$\frac{k}{n}(P1+P2)=\frac{k}{n}\frac{n}{n+1}=\frac{k}{n+1}$

证毕

## 2.要求设计一个函数，运行100次，非顺序的输出1-100内所有数字，要求不能使用数组

* 链表法
* 哈希
* 二叉树法

## 3.简述语言中的随机函数原理

在C语言中,rand()函数可以用来产生随机数，但是这不是真真意义上的随机数，是一个伪随机数，是根据一个数，我们可以称它为种子，为基准以某个递推公式推算出来的一系数，当这系列数很大的时候，就符合正态公布，从而相当于产生了随机数，但这不是真正的随机数，当计算机正常开机后，这个种子的值是定了的，除非你破坏了系统，为了改变这个种子的值，C提供了srand()函数，它的原形是void srand( int a)。

time(NULL);time(0)//返回的是一个long型时间值,取的是当前系统时间,因此总是变化的